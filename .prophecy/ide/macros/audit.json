{"macro_arjUadXW":{"name":"audit","macroId":"macro_arjUadXW","macroType":"query","definition":"\n\nselect *, current_timestamp() as modified_on, 'kishore' as modified_by\n     {% if execute %}\n\n        {% if not flags.FULL_REFRESH and config.get('materialized') == \"incremental\" %}\n\n            {% set source_relation = adapter.get_relation(\n                database=target.database,\n                schema=this.schema,\n                identifier=this.table,\n                ) %}      \n\n            {% if source_relation != None %}\n\n                {% set min_created_date %}\n                    SELECT LEAST(MIN(dbt_created_at), CURRENT_TIMESTAMP()) AS min_ts \n                    FROM {{ this }}\n                {% endset %}\n\n                {% set results = run_query(min_created_date) %}\n\n                , '{{results.columns[0].values()[0]}}'::TIMESTAMP AS dbt_created_at\n\n            {% else %}\n\n                , CURRENT_TIMESTAMP()               AS dbt_created_at\n\n            {% endif %}\n\n        {% else %}\n\n           ,  CURRENT_TIMESTAMP()               AS dbt_created_at\n\n        {% endif %}\n    \n    {% endif %}\n\nfrom {{table_name}}","parameters":{"type":"record","fields":[{"name":"table_name","kind":{"type":"unknown","value":"","actualValue":"unknown"},"optional":false,"comment":"Name of the table","isWorkflowNodeConfiguration":false}]},"staleState":"none","propertiesFile":{"name":"macros","content":"---\nversion: 2\nmacros:\n- name: \"cents\"\n  description: \"This is cents macro\"\n  arguments:\n  - name: \"column_name\"\n    type: \"unknown\"\n  - name: \"decimal_places\"\n    type: \"int\"\n    description: \"Field with default value\"\n  macroType: \"expression\"\n- name: \"audit\"\n  arguments:\n  - name: \"table_name\"\n    type: \"unknown\"\n    description: \"Name of the table\"\n  macroType: \"query\"\n- name: \"nestedMacroName\"\n  description: \"This is nested\"\n  arguments:\n  - name: \"column_name\"\n    type: \"unknown\"\n  macroType: \"expression\"\n","path":"jaffle_shop/macros/macros.yml","projectConfiguration":null,"folderConfiguration":{"version":2,"macros":[{"name":"cents","description":"This is cents macro","arguments":[{"name":"column_name","type":"unknown"},{"name":"decimal_places","type":"int","description":"Field with default value"}],"macroType":"expression"},{"name":"audit","arguments":[{"name":"table_name","type":"unknown","description":"Name of the table"}],"macroType":"query"},{"name":"nestedMacroName","description":"This is nested","arguments":[{"name":"column_name","type":"unknown"}],"macroType":"expression"}]},"packagesYml":null}}}